# 2020_11_18



## 右值引用



### 左值，右值

左值是指表达式结束后依然存在的*持久化对象*，右值是指表达式结束时就不再存在的*临时对象*。所有的具名变量或者对象都是左值，而右值不具名。

右值引用，区别于左值引用：

```c
int & a = 1 ;   // no
int && a = 1;	// ok
```

右值引用主要就是解决一个临时值占用的空间被浪费的问题，比如：

```
A a;
a = f();
```

假设A占用0x10字节，`f()`返回的临时值（右值）也占用0x10字节，0x20字节被使用了。

使用右值引用，临时值的地址直接被传递给右值引用类型的数据，比如

```c
A && a = f();
```

f()返回的地址被赋予姓名a，可以直接使用，不会浪费。这个地方，A&&a 在汇编中，被处理成一个指针。



